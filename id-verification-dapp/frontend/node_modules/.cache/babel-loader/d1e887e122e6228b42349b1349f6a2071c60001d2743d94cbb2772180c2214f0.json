{"ast":null,"code":"var _jsxFileName = \"/Users/rutvikmathapati/divs/id-verification-dapp/id-verification-dapp/frontend/src/pages/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { create } from \"ipfs-http-client\";\nimport { ethers } from \"ethers\";\nimport contractABI from \"../contractABI.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONTRACT_ADDRESS = \"0xYourDeployedAddress\";\nconst ipfsClient = create({\n  url: \"http://127.0.0.1:5001\"\n});\nconst Register = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [did, setDid] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const uploadAndRegister = async () => {\n    try {\n      setMessage(\"Uploading to IPFS...\");\n      const added = await ipfsClient.add(file);\n      const cid = added.path;\n      setMessage(`File uploaded: ${cid}`);\n      if (!window.ethereum) return alert(\"MetaMask not found!\");\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner();\n      const contract = new ethers.Contract(CONTRACT_ADDRESS, contractABI, signer);\n      setMessage(\"Sending transaction...\");\n      const tx = await contract.registerIdentity(did, cid);\n      await tx.wait();\n      setMessage(`✅ Registered on chain! CID: ${cid}`);\n    } catch (err) {\n      setMessage(\"❌ \" + err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Register Identity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control mb-2\",\n      placeholder: \"Enter DID\",\n      value: did,\n      onChange: e => setDid(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      className: \"form-control mb-2\",\n      onChange: e => setFile(e.target.files[0])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: uploadAndRegister,\n      children: \"Upload & Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-3\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"pz+/4oWjkQl939M5/zOHz/n7tnU=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","create","ethers","contractABI","jsxDEV","_jsxDEV","CONTRACT_ADDRESS","ipfsClient","url","Register","_s","file","setFile","did","setDid","message","setMessage","uploadAndRegister","added","add","cid","path","window","ethereum","alert","provider","providers","Web3Provider","signer","getSigner","contract","Contract","tx","registerIdentity","wait","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","files","onClick","_c","$RefreshReg$"],"sources":["/Users/rutvikmathapati/divs/id-verification-dapp/id-verification-dapp/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { create } from \"ipfs-http-client\";\nimport { ethers } from \"ethers\";\nimport contractABI from \"../contractABI.json\";\n\nconst CONTRACT_ADDRESS = \"0xYourDeployedAddress\";\nconst ipfsClient = create({ url: \"http://127.0.0.1:5001\" });\n\nconst Register = () => {\n  const [file, setFile] = useState(null);\n  const [did, setDid] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const uploadAndRegister = async () => {\n    try {\n      setMessage(\"Uploading to IPFS...\");\n      const added = await ipfsClient.add(file);\n      const cid = added.path;\n      setMessage(`File uploaded: ${cid}`);\n\n      if (!window.ethereum) return alert(\"MetaMask not found!\");\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner();\n      const contract = new ethers.Contract(CONTRACT_ADDRESS, contractABI, signer);\n\n      setMessage(\"Sending transaction...\");\n      const tx = await contract.registerIdentity(did, cid);\n      await tx.wait();\n      setMessage(`✅ Registered on chain! CID: ${cid}`);\n    } catch (err) {\n      setMessage(\"❌ \" + err.message);\n    }\n  };\n\n  return (\n    <div className=\"container mt-4\">\n      <h2>Register Identity</h2>\n      <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Enter DID\" value={did} onChange={(e) => setDid(e.target.value)} />\n      <input type=\"file\" className=\"form-control mb-2\" onChange={(e) => setFile(e.target.files[0])} />\n      <button className=\"btn btn-primary\" onClick={uploadAndRegister}>Upload & Register</button>\n      <p className=\"mt-3\">{message}</p>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}