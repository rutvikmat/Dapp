{"ast":null,"code":"var _jsxFileName = \"/Users/rutvikmathapati/divs/id-verification-dapp/id-verification-dapp/frontend/src/pages/ViewIdentity.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport contractABI from \"../contractABI.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONTRACT_ADDRESS = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\nfunction ViewIdentity() {\n  _s();\n  const [did, setDid] = useState(\"\");\n  const [result, setResult] = useState(null);\n  const fetchIdentity = async () => {\n    if (!did) return alert(\"Enter DID\");\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const contract = new ethers.Contract(CONTRACT_ADDRESS, contractABI, provider);\n    try {\n      const res = await contract.getIdentity(did);\n      setResult({\n        owner: res[0],\n        ipfsHash: res[1],\n        verified: res[2],\n        verifier: res[3],\n        timestamp: new Date(res[4].toNumber() * 1000).toString()\n      });\n    } catch (err) {\n      alert(\"❌ Identity not found or contract error.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"View Registered Identity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control mb-2\",\n      placeholder: \"Enter DID\",\n      onChange: e => setDid(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: fetchIdentity,\n      children: \"Get Identity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-secondary mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify(result, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewIdentity, \"dY37Veg90EaIazbFRLulnhwwN5c=\");\n_c = ViewIdentity;\nexport default ViewIdentity;\nvar _c;\n$RefreshReg$(_c, \"ViewIdentity\");","map":{"version":3,"names":["React","useState","ethers","contractABI","jsxDEV","_jsxDEV","CONTRACT_ADDRESS","ViewIdentity","_s","did","setDid","result","setResult","fetchIdentity","alert","provider","providers","Web3Provider","window","ethereum","contract","Contract","res","getIdentity","owner","ipfsHash","verified","verifier","timestamp","Date","toNumber","toString","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","value","onClick","JSON","stringify","_c","$RefreshReg$"],"sources":["/Users/rutvikmathapati/divs/id-verification-dapp/id-verification-dapp/frontend/src/pages/ViewIdentity.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport contractABI from \"../contractABI.json\";\n\nconst CONTRACT_ADDRESS = \"0x5FbDB2315678afecb367f032d93F642f64180aa3\";\n\nfunction ViewIdentity() {\n  const [did, setDid] = useState(\"\");\n  const [result, setResult] = useState(null);\n\n  const fetchIdentity = async () => {\n    if (!did) return alert(\"Enter DID\");\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const contract = new ethers.Contract(CONTRACT_ADDRESS, contractABI, provider);\n    try {\n      const res = await contract.getIdentity(did);\n      setResult({\n        owner: res[0],\n        ipfsHash: res[1],\n        verified: res[2],\n        verifier: res[3],\n        timestamp: new Date(res[4].toNumber() * 1000).toString(),\n      });\n    } catch (err) {\n      alert(\"❌ Identity not found or contract error.\");\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>View Registered Identity</h2>\n      <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Enter DID\" onChange={(e) => setDid(e.target.value)} />\n      <button className=\"btn btn-primary\" onClick={fetchIdentity}>Get Identity</button>\n\n      {result && (\n        <div className=\"alert alert-secondary mt-3\">\n          <pre>{JSON.stringify(result, null, 2)}</pre>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ViewIdentity;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,WAAW,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,gBAAgB,GAAG,4CAA4C;AAErE,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMY,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI,CAACJ,GAAG,EAAE,OAAOK,KAAK,CAAC,WAAW,CAAC;IACnC,MAAMC,QAAQ,GAAG,IAAIb,MAAM,CAACc,SAAS,CAACC,YAAY,CAACC,MAAM,CAACC,QAAQ,CAAC;IACnE,MAAMC,QAAQ,GAAG,IAAIlB,MAAM,CAACmB,QAAQ,CAACf,gBAAgB,EAAEH,WAAW,EAAEY,QAAQ,CAAC;IAC7E,IAAI;MACF,MAAMO,GAAG,GAAG,MAAMF,QAAQ,CAACG,WAAW,CAACd,GAAG,CAAC;MAC3CG,SAAS,CAAC;QACRY,KAAK,EAAEF,GAAG,CAAC,CAAC,CAAC;QACbG,QAAQ,EAAEH,GAAG,CAAC,CAAC,CAAC;QAChBI,QAAQ,EAAEJ,GAAG,CAAC,CAAC,CAAC;QAChBK,QAAQ,EAAEL,GAAG,CAAC,CAAC,CAAC;QAChBM,SAAS,EAAE,IAAIC,IAAI,CAACP,GAAG,CAAC,CAAC,CAAC,CAACQ,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,CAACC,QAAQ,CAAC;MACzD,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZlB,KAAK,CAAC,yCAAyC,CAAC;IAClD;EACF,CAAC;EAED,oBACET,OAAA;IAAK4B,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxB7B,OAAA;MAAA6B,QAAA,EAAI;IAAwB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjCjC,OAAA;MAAOkC,IAAI,EAAC,MAAM;MAACN,SAAS,EAAC,mBAAmB;MAACO,WAAW,EAAC,WAAW;MAACC,QAAQ,EAAGC,CAAC,IAAKhC,MAAM,CAACgC,CAAC,CAACC,MAAM,CAACC,KAAK;IAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpHjC,OAAA;MAAQ4B,SAAS,EAAC,iBAAiB;MAACY,OAAO,EAAEhC,aAAc;MAAAqB,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAEhF3B,MAAM,iBACLN,OAAA;MAAK4B,SAAS,EAAC,4BAA4B;MAAAC,QAAA,eACzC7B,OAAA;QAAA6B,QAAA,EAAMY,IAAI,CAACC,SAAS,CAACpC,MAAM,EAAE,IAAI,EAAE,CAAC;MAAC;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC9B,EAAA,CAnCQD,YAAY;AAAAyC,EAAA,GAAZzC,YAAY;AAqCrB,eAAeA,YAAY;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}